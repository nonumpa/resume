//**************************
//********** data **********
//**************************

//---------BioData-----------
var BioData = 
  [{
      tag: "right",
      timeline: "1993.04.28~2008.09",
      title: "人生的空窗期",
      content: "　　在高中以前，基本上每天生活不外乎考試、補習、打電動，對什麼事都不是很在乎，活得還算無憂無慮，但現在回頭看起來，當時就好像沒有目標的行屍走肉，我稱這段時期為<b>人生的空窗期</b>。",
    },
   {
      tag: "left",
      timeline: "2008.09",
      title: "教育不是灌輸，而是點燃火焰",
      content: "　　高中，遇到兩位不錯的老師 —— 公民老師和美術老師，讀了老師推薦的書'江湖在哪裡？'，我開始認知到，這個世界存在很多可能，很多事情都不只是我們眼睛看到的那樣，但人生真正的燃點，是我高三在補習班補習的日子。<br>",
    },
   {
      tag: "right",
      timeline: "2010.07",
      title: "教育不是灌輸，而是點燃火焰",
      content: "　　高中補習班算是我人生的燃點，在裡面我受到兩種人影響，一是同學，二是老師。看到很多成績不好的同學，因為補習班的鼓勵，放學到補喜班自習到十二點，假日還在早上八點，補習班一開門就走進自修教室，我因為不想輸給他們，所以也跟著這麼做，後來發現在大家都拼命往前跑的環境裡，自己也會不自覺地用盡全力跑了起來，知道一個環境對我的影響有多麼大之後，我喜歡上一句老名言——<b>蓬生麻中，不扶而直</b>。<br>　　在四、五年後看到日本電影<a target='_blank' href='https://www.facebook.com/permalink.php?story_fbid=995715110451669&id=100000395687172'>墊底辣妹</a>，讓我重新回憶起這段熱血夾雜的痛苦的日子，覺得有這段經歷不枉此生。",
    },
   {
      tag: "left",
      timeline: "2011.07",
      title: "真正的開始",
      content: "　　大學，看到很多人生的不同選擇，選擇自己想成為樣的人，學了自己想學的東西，我覺得我的人生從大學才真正的開始。<br>大學開始前的暑假，被同學找去聽大專生涯發展協會的演講，剛好也因為國、高中，學校請一些知名人士來學校演講，有時候可以從他們身上聽到很多不錯的人生經驗，而且通常演講廳都會有冷氣放送，於是我就報名了。大一的演講很多都是跟人際關係相關的，剛好我從小到大都有點自閉傾向，一直想改變這個壞習慣，又剛好他們正在招募在演講廳服務的志工，但看他們都很親切地對學員微笑、打招呼、聊天、回答問題，有時還要上台作活動宣傳，那些都是我最不擅長的，加入他們根本就是把自己推入火坑，這時想起了我很喜歡的名言，蓬生麻中，不扶而直，如果我不讓環境改變我，光靠我自己的毅力，要何時才能看見效果？於是我眼睛閉著，跳進了火坑。",
    },
   {
      tag: "right",
      timeline: "2013.07",
      title: "第二個火坑",
      content: "　　大學三年級，要開始考慮畢業後要繼續念書，還是要去工作的時候，其實我是不太想繼續讀研究所的，因為我討厭台灣的教育方式，不想一直順著這條路走，但唸了兩年資工，還是只會寫小黑窗程式的我，覺得如果畢業之後還是這樣的話，肯定會失業的，於是找了相對於其他學校指導教授，給學生的課業壓力較大的教授指導專題，雖然一直很害怕因為能力達不到教授要求，而無法順利畢業，但想起補習班老師說的，「爆炸性的壓力才有爆炸性的成長」，而且只要最後結果不是死亡，人生就還沒到最慘的時候，於是我又跳入了另一個火坑，學校大部分的作品都是在這兩年，以實驗室為家一點一滴做出來的。",
    },
   {
      tag: "left",
      timeline: "2014.03",
      title: "這是我的忍道",
      content: "　　適逢學運期間，看到某一電視台不斷抹黑學運，當時我不是很能理解，怎麼會出現這麼誇張的集團式顛倒是非？上頭命令抹黑，怎麼底下的人就照做了呢？當時我在line上打了一段話：<br>「<b>他們沒有骨氣，只有利益<br>我一定要變得很強很厲害<br>才不用害怕說真話，才能果斷離開不屑的職場<br>不知道做不做的到，但也只能這麼相信著...</b>」<br>於是，更努力的讓自己的程式能力變強，就算已經決定不讀研究所，也跟著同學去修了很多研究所的硬課。",
    },
   {
      tag: "right",
      timeline: "2014.10",
      title: "目標確定",
      content: "　　學運過後，年輕族群吹起了一陣改變的風，剛好這時我參加了TEDxTaipei年會，聽到很多年輕人在自己的領域，努力改變著自己不喜歡的台灣社會，身為年輕人的我，看到大家這麼努力，我也不想輸，想變得跟他們一樣厲害，立志以後也要用自己的專業能力為這個社會做點什麼。<b>從此之後，我開始關注有夢想、想努力改變台灣環境的人們，並且在能力範圍內贊助，幫他們達成夢想。</b>",
    },
   {
      tag: "left",
      timeline: "2016.04~2017.04",
      title: "初出茅廬",
      content: "　　第一次找工作，不是很得心應手，想去的公司基本上都不想找沒經驗的人，有通知面試的公司，大多也都因為我無法在短短的10分鐘內，表現出真正的自我而被打槍。最後選擇加入公司規模屬於中大型的遊戲公司——鈊象電子。在裡面適應算滿快的，很快地就跟上團隊的腳步，並且一起走完一個專案。但後來公司開新案組新團隊的時候，我感覺上頭都在勾心鬥角，好像每個人都不想發生一點意外，只想保住自己現在在公司的地位，根本沒人真正的想做事，我不知道他們在幹嘛...於是決定離開這個環境。",
    },
   {
      tag: "right",
      timeline: "2017.04~now",
      title: "努力轉職中",
      content: "　　離職後決定學習新技能，再重新出發，在Hahow好學校買了前端HTML(Pug) + CSS(Sass) + Vue.js課程，製作了這個自我介紹網頁，覺得自己好像可以做前端工程師了，結果投了一些履歷還是沒有結果，我自己覺得是作品不夠多，大家都不喜歡菜鳥，只能繼續學習繼續做更多的作品，目前在學習Laravel(PHP framework)，想要練習做一個類似<a target='_blank' href='http://pad.skyozora.com/'>Puzzle & Dragons 戰友系統及資訊網</a>的網站出來。",
    },
   // {
   //    tag: "",
   //    timeline: "",
   //    title: "",
   //    content: "",
   //  },
  ];

//---------portfolioData-----------

var portfolioData = 
  [
    //0 - web: 
    [{
      title: "自我介紹網頁",
      description: "練習網頁前端設計，把我的履歷做成一個網頁，使用Boostrap做了基本排版，Vue.js做資料處理及輸出到頁面上，Skrollr.js做一些滾輪滾動的頁面特效(電腦版)，讓網頁看起來更活潑一點，RWD不只使用了常用的CSS media query，JS部分為了配合RWD的版面調整，引用enquire.js，根據不同版面對資料做處理。",
      coverImg: "https://c1.staticflickr.com/5/4211/34947361342_f6d032bb98_o.png",
      projectLink: "https://codepen.io/nonumpa/pen/OmbwaZ?editors=1010",
      youtubeLink: ""
    },
    {
      title: "天氣盒子",
      description: "使用純CSS和SVG分別刻出太陽和雲，再套用darksky提供的天氣API，顯示我目前住的地方，7天內的天氣概況。",
      coverImg: "https://c1.staticflickr.com/5/4266/34268020614_a3b5b348b5_o.png",
      youtubeLink: "",
      projectLink: "https://codepen.io/nonumpa/full/zwoYdx/"
    }],
    //1 - game: 
    [{
      title: "倖存者聯盟",
      description: "使用Unity3D開發，開發團隊人數約20人，主要的玩法跟部落衝突類似，裡面加入末日殭屍主題做一點微創新，是在前公司參與的第一個專案，我加入團隊時，專案已經進入中後期開發，主要負責一些新UI系統開發(使用NGUI)、使用Unity的plugin重接金流系統。團隊使用Jenkins自動化發佈Test及Release版本，我也從中學了一點點持續整合(CI)的技巧。",
      coverImg: "https://lh3.googleusercontent.com/LFGfC-EogH4N5iS19weIJHK3X7l8KZPG_S-OcdZRsZG_EoZ4ptNtK9RW8np4Un8zxw=h900-rw",
      youtubeLink: "",
      projectLink: "https://play.google.com/store/apps/details?id=com.igs.clashz&hl=zh_TW"
    },
    {
      title: "生存之靈",
      description: "大學課程Project，開發人數4人，使用Unity3D開發，生存之靈(3D版小精靈)是一款冒險收集的遊戲，依照玩家對於遊戲長短的需求來選取關卡，在地圖上隨時都會有危機以及廝殺，玩家將扮演逃亡的靈魂體必須利用時間快速地收集到所以散落四地的靈魂獲得重生並且過關，過程使用手機螢幕滑動來做不同靈巧的判斷及動作，在惡魔的地牢安全的生存下去，刺激和挑戰集於此，相信玩家會愛不釋手的去挑戰！",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/Keu_kJDP8e0",
      projectLink: ""
    },
    {
      title: "骰子迷城",
      description: "使用Unity3D開發，開發人數3人，是大三時跟宇峻奧汀產學合作的專案，屬於DEMO版本，使用骰子在玩家和怪物之間走出一條路發動攻擊，如果走出來的點數符合旁邊技能表可使出額外技能攻擊。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/hAtQ9iODwLA",
      projectLink: ""
    },
    {
      title: "黑白棋",
      description: "大學課程Project，使用Haaf's Game Engine(HGE)製作。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/WDO3TWmyp5M",
      projectLink: ""
    }],
    // 2 - android: 
    [{
      title: "好事地圖",
      description: "好事地圖是一個把自力更生，但卻相對弱勢的族群資料收集在一起，有愛心的使用者可以使用定位功能，幫助附近需要幫助的人。 等兵單的時候看到布丁三姊弟的新聞，突然靈光一閃想到這個主意，上網搜尋一下發現已經有人做了，而且做的還不錯，於是我主動跟對方說要幫忙，但沒做到太多的事情，只負責幫忙更新FacebookAPI和修正Google定位bug。",
      coverImg: "https://lh3.ggpht.com/8uPpnikxioBhQRZHI-h1RFH-iwg_5jN6KK8LqVaDCL8fnAfEoYqiVWR4SfsF0NnI-6k=h900-rw",
      projectLink: "https://play.google.com/store/apps/details?id=lab.prada.android.goodthingsmap&hl=zh_TW",
      youtubeLink: ""
    },
    {
      title: "Airsig使用者數據收集",
      description: "等兵單時接的case，幫Airsig公司做使用者數據收集的App (Airsig公司是做手機空中簽名 解鎖螢幕的新創公司)，因為這個APP是做數據收集而已，並沒有上架或公開。",
      coverImg: "https://c1.staticflickr.com/5/4286/34947329552_7351346610_o.png",
      youtubeLink: "",
      projectLink: "https://c1.staticflickr.com/5/4286/34947329552_7351346610_o.png"
    }],
    // 3 - cg: 
    [{
      title: "Face Talk",
      description: "研究所課程Project，輸入一張照片，手動加入控制點，做as rigid as possible  2D變形，把苦臉被笑臉。起初整個app的構想是輸入一張圖片，同學負責寫人臉辨識找出眼睛鼻子嘴巴的範圍，然後我負責在選取的範圍內random撒下control point，套用voronoi演算法，讓使用者可以很快調整臉部表情，不過因為有課程時間壓力，我的部分沒做得很完整，我們也沒整合在一起。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/NUYvIrhZ9qY",
      projectLink: ""
    },
    {
      title: "ExponentialMap貼圖",
      description: "研究所課程Project，使用ExponentialMap方法把2D貼圖貼到3D-Model上，影片中實際操作如何把一隻狗身馬頭的3D-Model貼上貼圖。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/cTgQ2-c3ozQ",
      projectLink: ""
    },
    {
      title: "3D-Model Skeleton Extraction",
      description: "研究所課程Project，輸入一個3D-Model使用特定演算法一直縮減它的Mesh，直到萃取出3D-Model的骨架。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/wQeneaS3w1Q",
      projectLink: ""
    },
    {
      title: "3D機器人",
      description: "大學課程Project，使用openGL 內建Function畫多邊形 貼上貼圖 組合成一隻機器人，再建造Hierarchy讓機器人做一些動作。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/JqaDRv9hxBo",
      projectLink: ""
    },
    {
      title: "3D迷宮",
      description: "大學課程Project，把2D迷宮用OpenGL畫成3D",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/_FCwlXfGun4",
      projectLink: ""
    },
    {
      title: "3D雲霄飛車",
      description: "大學課程Project，使用ogre做出3D雲霄飛車、加上軌道、skybox、有動畫的model、水的特效。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/QW6OWeq5qWU",
      projectLink: ""
    },
    {
      title: "簡易PhotoShop",
      description: "大學課程Project，使用OpenGL實作一些類似PhotoShop簡易的影像處理功能。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/BIcD-3hFI1k",
      projectLink: ""
    }],
    // 4 - studyproject: 
    [{
      title: "大學專題-校務會議系統",
      description: "使用Unity + Android/iOS 原生開源App Mupdf製作，跨平台(Windows、Android、iOS)運作，學校希望透過會議的數位化，減少會議中龐大的紙張使用量，且防止重要的會議文件流出，也能讓使用者能在會議開始前，存取需要會議前先閱讀的文件，並在會議結束自動刪除重要會議文件。",
      coverImg: "",
      projectLink: "",
      youtubeLink: "https://www.youtube.com/embed/iPoDKToUTxY"
    }],
    // 5 - video: 
    [{
      title: "大學龍捲風",
      description: "大二上學期參與校外社團，幫忙製作的宣傳影片，負責剪輯(Premiere)和劇本。片頭是夥伴使用AE做的，搭配上配樂效果很酷，未來如果有空的話，想試著學看看。",
      coverImg: "",
      youtubeLink: "https://www.youtube.com/embed/nuF4i4_Z8Jo",
      projectLink: ""
    },
    {
      title: "芯芯疑似盜版歌曲1",
      description: "Love Me Like You Do，大學畢業後，等當兵前，無聊看台順便幫忙剪輯，因為沒什麼美感，所以做的不是很漂亮，這部影片末端加入當時紅極一時的柯P敲桌子，笑果還不錯。",
      coverImg: "",
      youtubeLink: "https://youtube.googleapis.com/embed/?status=ok&hl=zh_TW&allow_embed=0&ps=docs&partnerid=30&autoplay=0&docid=0BwDP-d-CvtjxMGZncHlWaWJfeFU&abd=0&public=false&el=leaf&title=sinsin-love%20me%20like%20you%20do.mp4&BASE_URL=https%3A%2F%2Fdrive.google.com%2F&iurl=https%3A%2F%2Fdrive.google.com%2Fvt%3Fauthuser%3D0%26id%3D0BwDP-d-CvtjxMGZncHlWaWJfeFU&reportabuseurl=https%3A%2F%2Fdrive.google.com%2Fabuse%3Fauthuser%3D0%26id%3D0BwDP-d-CvtjxMGZncHlWaWJfeFU&token=1&plid=V0QUvQAaioas2A&timestamp=1494350766902&length_seconds=218&BASE_YT_URL=https%3A%2F%2Fdrive.google.com%2F&cc_load_policy=1&authuser=0&cc3_module=1&wmode=window&override_hl=1&enablecastapi=0&enablepostapi=1&postid=drive-viewer-video-player-object-0&origin=https%3A%2F%2Fdrive.google.com",
      projectLink: ""
    },
    {
      title: "芯芯疑似盜版歌曲2",
      description: "Blank Space，大學畢業後，等當兵前，無聊看台順便幫忙剪輯，因為沒什麼美感，所以做的不是很漂亮。",
      coverImg: "",
      youtubeLink: "https://youtube.googleapis.com/embed/?status=ok&hl=zh_TW&allow_embed=0&ps=docs&partnerid=30&autoplay=0&docid=0BwDP-d-CvtjxRWFaNzBNOEd0SW8&abd=0&public=false&el=leaf&title=sinsin-blank%20space(beta).mp4&BASE_URL=https%3A%2F%2Fdrive.google.com%2F&iurl=https%3A%2F%2Fdrive.google.com%2Fvt%3Fauthuser%3D0%26id%3D0BwDP-d-CvtjxRWFaNzBNOEd0SW8&reportabuseurl=https%3A%2F%2Fdrive.google.com%2Fabuse%3Fauthuser%3D0%26id%3D0BwDP-d-CvtjxRWFaNzBNOEd0SW8&token=1&plid=V0QUvQB7_Teblw&timestamp=1494351183955&length_seconds=261&BASE_YT_URL=https%3A%2F%2Fdrive.google.com%2F&cc_load_policy=1&authuser=0&cc3_module=1&wmode=window&override_hl=1&enablecastapi=0&enablepostapi=1&postid=drive-viewer-video-player-object-0&origin=https%3A%2F%2Fdrive.google.com",
      projectLink: ""
    },
    {
      title: "芯芯疑似盜版歌曲3",
      description: "Chandelier，大學畢業後，等當兵前，無聊看台順便幫忙剪輯，因為沒什麼美感，所以做的不是很漂亮。",
      coverImg: "",
      youtubeLink: "https://youtube.googleapis.com/embed/?status=ok&hl=zh_TW&allow_embed=0&ps=docs&partnerid=30&autoplay=0&docid=0BwDP-d-CvtjxQmMtMTRmWGlzck0&abd=0&public=false&el=leaf&title=%E8%8A%AF%E8%8A%AF-chandelier%20(live%20cover).mp4%20%E7%9A%84%E5%89%AF%E6%9C%AC&BASE_URL=https%3A%2F%2Fdrive.google.com%2F&iurl=https%3A%2F%2Fdrive.google.com%2Fvt%3Fauthuser%3D0%26id%3D0BwDP-d-CvtjxQmMtMTRmWGlzck0&reportabuseurl=https%3A%2F%2Fdrive.google.com%2Fabuse%3Fauthuser%3D0%26id%3D0BwDP-d-CvtjxQmMtMTRmWGlzck0&token=1&plid=V0QUvQCShUNMWQ&timestamp=1494351281404&length_seconds=221&BASE_YT_URL=https%3A%2F%2Fdrive.google.com%2F&cc_load_policy=1&authuser=0&cc3_module=1&wmode=window&override_hl=1&enablecastapi=0&enablepostapi=1&postid=drive-viewer-video-player-object-0&origin=https%3A%2F%2Fdrive.google.com",
      projectLink: ""
    }],
  ];

// for determining how BioData should be dealt with
var desktop = true;

var vm = new Vue({
  el:"#app",
  data:{
    //portfolio
    nowtab: "web",
    nowindex: 0,
    portfolioData1d: [],
    portfolioData: portfolioData,
    //bio
    BioData: BioData,
    BioDataLeft: [],
    BioDataRight: [],
    // span: 930
  },
  created: function() {
    // js rwd
    enquire.register("screen and (max-width: 993px)", {
        match : function() {
            // Match mobile landscape
          desktop = false;
        },
        unmatch : function() {
            // Larger than mobile landscape
          desktop = true;
        }
    });
    
    //anonymous function sould have a temp inside variable to store outside variable
    var self = this;
    // sperate BioData to left and right
    this.BioData.forEach(function(item){
      // if mobile put all data in right
      if(desktop === true && item.tag == "left"){
        self.BioDataLeft.push(item);
      }
      // if mobile put all data in right
      else if(desktop === false || item.tag == "right"){
        self.BioDataRight.push(item);
      }
    });
    
    //map 2d-array into 1d
    this.portfolioData.forEach(function(item){
      item.forEach(function(i){
        self.portfolioData1d.push(i);
      });
    });
  },
  
  mounted: function(){
    var right_height =  $(".right").height();
    // set somkeline's final position
    $(".line_vertical").css({'height':right_height-50+"px" });
    // set rocket's final position
    $(".rocket").css({'top': right_height+50+"px" });
  },
  
  updated: function () {
    //reset portfolio.yt-with-Cover
    // this.hideYTplayer();
  },
  
  methods: {
    // 切換tab初始化 yt css
    setnowtab(t){
      // //set tab
      // this.nowtab = t;
      // //reset index
      // this.nowindex = 0;
    },
    delta(d){
      // this.nowindex = (this.nowindex + d + this.portfolioData[this.nowtab].length) % this.portfolioData[this.nowtab].length;
    },
    bg_css(url){
      return {
        "background-image": "url(" + url + ")"
      };
    },
    show(){
//       var ytCover = document.getElementById("youtubeCover");
//       var ytPlayer = document.getElementById("yt-with-Cover");
      
//       //hide cover photo
//       if(ytCover)
//       {
//         ytCover.style.opacity = 0;
//         ytCover.style.zIndex = -1;
//       }
//       //show youtube player
//       if(ytPlayer)
//       {
//         ytPlayer.style.opacity= 1;
//         ytPlayer.style.zIndex = 1;
//         //auto play youtube
//         ytPlayer.src = ytPlayer.src+"&autoplay=1";
//       }
//     },
//     hideYTplayer(){
//       var ytCover = document.getElementById("youtubeCover");
//       var ytPlayer = document.getElementById("yt-with-Cover");
//       //show cover photo
//       if(ytCover)
//       {
//         ytCover.style.opacity = 1;
//         ytCover.style.zIndex = 1;
//       }
//       //show youtube player (no cover photo means only youtube link)
//       else if (this.portfolioData[this.nowtab][this.nowindex].coverImg === ""){
//         var player = document.getElementById("yt-without-Cover");
//         player.style.opacity = 1;
//         player.style.zIndex = 1;
//       }
//       //hide youtube player
//       if(ytPlayer)
//       {
//         ytPlayer.style.opacity = 0;
//         ytPlayer.style.zIndex = -1;
//       }
    },
  }//End of Methods
});//End of Vue vm

// start animation when page bottom reach
$(window).scroll(function(evt){
  if($(window).scrollTop()>$("#profile").innerHeight()+$("#portfolio").innerHeight())
  {
    $(".navbar-nav li").removeClass("active");
    $(".navbar-nav li").eq(2).addClass("active");
  }
  else if($(window).scrollTop()>$("#profile").innerHeight())
  {
    $(".navbar-nav li").removeClass("active");
    $(".navbar-nav li").eq(1).addClass("active");
  }
  else
  {
    $(".navbar-nav li").removeClass("active");
    $(".navbar-nav li").eq(0).addClass("active"); 
  }
  
  // console.log("ScrollBottom:"+$(window).scrollTop()+$(window).height() + " profile:"+$("#profile").outerHeight() +" portfolio:"+ $("#portfolio").outerHeight());
  if ( $(window).scrollTop()+$(window).height() < ($("#profile").outerHeight()+$("#portfolio").outerHeight()+($("#exp").outerHeight() - $("#exp").height())/2) ){
    // console.log(111);
      // $("#exp").children('.container').addClass("hidden");
      $(".line_vertical").removeClass("anismokefly");
      $(".line_horizontal").removeClass("aniboxline");
      $(".box").removeClass("aniboxline");
      $(".rocket").removeClass("anirocketfly");
      $(".somke1").removeClass("anismoke1fly");
      $(".somke2").removeClass("anismoke2fly");
      $(".somke3").removeClass("anismoke3fly");
  }
  else
    {
      // console.log(222);
      // show the
      $("#exp").children('.container').removeClass("hidden");
      $(".line_vertical").addClass("anismokefly");
      $(".line_horizontal").addClass("aniboxline");
      $(".box").addClass("aniboxline");
      $(".rocket").addClass("anirocketfly");
      $(".somke1").addClass("anismoke1fly");
      $(".somke2").addClass("anismoke2fly");
      $(".somke3").addClass("anismoke3fly");
    }
});

if ($(window).width() > 800) {
    //only enable on desktop
    //skrollr0.6.30 has some problem in mobile
    var s = skrollr.init();
}

var nowtab = 0;
var nowindex =  0;

var swiper1 = new Swiper('.swiper1', {
        slidesPerView: 6,
        paginationClickable: true,
        spaceBetween: 10,
        freeMode: true,
        loop: false,
        onTab:function(swiper){
          var n = swiper1.clickedIndex;
          alert(1);
        },
        breakpoints: {
          // when window width is <= 425px
          425: {
              slidesPerView: 2,
          },
          // when window width is <= 993px
          993: {
              slidesPerView: 4,
          }
        }
    });
  swiper1.slides.each(function(index,val){
    var ele=$(this);
    ele.on("click",function(){
      // setCurrentSlide(ele,index);
      nowtab = index;
      var s2idx;
      s2idx = 0;
      for(var i = 0; i < nowtab; i++){
        s2idx += vm.portfolioData[i].length;
      }
      //set to tab's slide
      swiper2.slideTo(s2idx, 500, false);
    });
  });
var ytPlayer = null;
var swiper2 = new Swiper ('.swiper2', {
    direction: 'horizontal',
    loop: false,
    nextButton: '.swiper-button-next',
    prevButton: '.swiper-button-prev',
    autoHeight: true,
    onSlideChangeEnd: function(swiper){
      var n=swiper.activeIndex;
      
      // find current tab
      var sum;
      nowtab = 0;
      sum = 0;
      for(var i = 0; i < vm.portfolioData.length; i++){
        sum += vm.portfolioData[i].length;
        if(sum > swiper.activeIndex){
          nowtab = i;
          break;
        }
      }
      
      //set to current tab
      swiper1.slideTo(nowtab, 500, false);
      $(".swiper1 .swiper-slide").removeClass("active");
      $(".swiper1 .swiper-slide").eq(nowtab).addClass("active");
      
      //pause last slide's yt
      if(ytPlayer != null && ytPlayer.length > 0)
      {
        var iframe = ytPlayer[0].contentWindow;
        // func = state == 'hide' ? 'pauseVideo' : 'playVideo';
        iframe.postMessage('{"event":"command","func":"' + 'pauseVideo' + '","args":""}', '*');
      }
      //get current yt player
      ytPlayer = $('.swiper-slide-active iframe');
      console.log(ytPlayer);
    },
  });